<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cå‡½æ•°ä¸­ä½¿ç”¨å¯å˜å‚æ•°åˆ—è¡¨ | BouseBlog</title>
<link rel="shortcut icon" href="https://bouse-w.github.io/BouseBlog.github.io//favicon.ico?v=1742972353564">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://bouse-w.github.io/BouseBlog.github.io//styles/main.css">
<link rel="alternate" type="application/atom+xml" title="Cå‡½æ•°ä¸­ä½¿ç”¨å¯å˜å‚æ•°åˆ—è¡¨ | BouseBlog - Atom Feed" href="https://bouse-w.github.io/BouseBlog.github.io//atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="å¤ªğŸ‚äº†å¤ªğŸ‚äº†å¤ªğŸ‚äº†
å¯å˜å‚æ•°å‡½æ•°
è¯¦ç»†è®²è§£
C å¯å˜å‚æ•° | èœé¸Ÿæ•™ç¨‹ (runoob.com)C å¯å˜å‚æ•° | èœé¸Ÿæ•™ç¨‹ (runoob.com)
æˆ‘çš„å®éªŒä»£ç 
#include &lt;stdio.h&gt;
#include &..." />
    <meta name="keywords" content="C-C++" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://bouse-w.github.io/BouseBlog.github.io/">
  <img class="avatar" src="https://bouse-w.github.io/BouseBlog.github.io//images/avatar.png?v=1742972353564" alt="">
  </a>
  <h1 class="site-title">
    BouseBlog
  </h1>
  <p class="site-description">
    è®©æˆ‘ä»¬é‡æ–°å¼€å§‹
  </p>
  <div class="menu-container">
    
      
        <a href="https://bouse-w.github.io/BouseBlog.github.io/" class="menu">
          é¦–é¡µ
        </a>
      
    
      
        <a href="https://bouse-w.github.io/BouseBlog.github.io/archives" class="menu">
          å½’æ¡£
        </a>
      
    
      
        <a href="https://bouse-w.github.io/BouseBlog.github.io/tags" class="menu">
          æ ‡ç­¾
        </a>
      
    
      
        <a href="https://bouse-w.github.io/BouseBlog.github.io/post/about" class="menu">
          å…³äº
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              Cå‡½æ•°ä¸­ä½¿ç”¨å¯å˜å‚æ•°åˆ—è¡¨
            </h2>
            <div class="post-info">
              <span>
                2025-03-18
              </span>
              <span>
                5 min read
              </span>
              
                <a href="https://bouse-w.github.io/BouseBlog.github.io/tag/cI4HnL3vJA/" class="post-tag">
                  # C-C++
                </a>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <p>å¤ªğŸ‚äº†å¤ªğŸ‚äº†å¤ªğŸ‚äº†</p>
<h4 id="å¯å˜å‚æ•°å‡½æ•°">å¯å˜å‚æ•°å‡½æ•°</h4>
<h5 id="è¯¦ç»†è®²è§£">è¯¦ç»†è®²è§£</h5>
<p><a href="https://www.runoob.com/cprogramming/c-variable-arguments.html">C å¯å˜å‚æ•° | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a><a href="https://www.runoob.com/cprogramming/c-variable-arguments.html">C å¯å˜å‚æ•° | èœé¸Ÿæ•™ç¨‹ (runoob.com)</a></p>
<h5 id="æˆ‘çš„å®éªŒä»£ç ">æˆ‘çš„å®éªŒä»£ç </h5>
<pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;stdarg.h&gt;

void test_change_param (char *, int, ...);

int main()
{
    char * test_string = &quot;test changing params&quot;;
    unsigned int test_int = 98765;

    test_change_param (test_string, test_int);

    return 0;
}

void test_change_param (char * args, ...)
{
    va_list param_list;         // å®šä¹‰å‚æ•°åˆ—è¡¨å˜é‡

    va_start (param_list, args);    // å°†åˆ—è¡¨å˜é‡ param_list æŒ‡å‘å‚æ•°åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´  &quot;args&quot; 

    // va_arg (ap, type) è·å–å¯å˜å‚æ•°åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªå‚æ•°ã€‚
    // ap æ˜¯ä¸€ä¸ª va_list ç±»å‹çš„å˜é‡ï¼Œtype æ˜¯ä¸‹ä¸€ä¸ªå‚æ•°çš„ç±»å‹ã€‚è¯¥å®è¿”å›å‚æ•°åˆ—è¡¨ä¸­ç±»å‹ä¸º type çš„å‚æ•°çš„å€¼ï¼Œå¹¶å°† ap æŒ‡å‘ä¸‹ä¸€ä¸ªå‚æ•°ã€‚
    printf (&quot;the first unsined int parameter = %d&quot;, va_arg (param_list, unsigned int));

    // æ¸…ç†ä¸º valist ä¿ç•™çš„å†…å­˜ï¼Œé¿å…å†…å­˜æ³„éœ²
    va_end(param_list);

    return;
}
</code></pre>
<h5 id="è¿è¡Œç»“æœ">è¿è¡Œç»“æœ</h5>
<div align=center>
	<img src="https://raw.githubusercontent.com/Bouse-W/blog_images/main/BouseBlog/imgs/2023/10/å¯å˜å‚æ•°åˆ—è¡¨.png"/ alt="automatic-scalability" width=90%>
	<figcaption >
        <font size=2>å¯å˜å‚æ•°åˆ—è¡¨</font>
    </figcaption>
</div>
<h5 id="ä¸€ç‚¹è¯´æ˜">ä¸€ç‚¹è¯´æ˜</h5>
<ul>
<li>å«æœ‰å¯å˜å‚æ•°çš„å‡½æ•°ï¼Œåœ¨å£°æ˜ã€å®šä¹‰æ—¶ï¼Œ<code>&quot;...&quot;</code>ï¼ˆçœç•¥å·ï¼‰å‡ºç°å³ä»£è¡¨ç€ï¼šå’Œå®ƒç´§é‚»çš„å‰ä¸€ä¸ªå‚æ•°ä¼šæ˜¯å¯å˜å‚æ•°åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåœ¨å‡½æ•°ä½“ä¸­ä½¿ç”¨ <code>v_start ()</code> åˆå§‹åŒ–åˆ—è¡¨å˜é‡æ—¶ï¼Œå¿…é¡»å°†æ­¤ç´§é‚»å‚æ•°ä½œä¸ºåˆ—è¡¨å˜é‡çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚è‹¥ä¸ç„¶ï¼Œç¼–è¯‘å³å‘Šè­¦ <code>[Warning] second parameter of 'va_start' not last named argument [-Wvarargs]</code></li>
<li>ä½¿ç”¨å¯å˜å‚æ•°å‡½æ•°å¤§æ³•ï¼Œå¯ä»¥æ˜¾è‘—æé«˜å‡½æ•°å®šä¹‰çš„çµæ´»æ€§ï¼Œä¸°å¯Œå‡½æ•°åŠŸèƒ½ï¼Œéå¸¸çš„æ–°é²œï¼Œéå¸¸çš„ç¾å‘³</li>
<li>æœ‰å¯å˜å‚æ•°ï¼Œè‡ªç„¶æœ‰<a href="#anchor_0">å¯å˜å‚æ•°å®</a></li>
</ul>
<h4 id="å¤§ä¹‰è§‰è¿·">å¤§ä¹‰è§‰è¿·</h4>
<h5 id="ç‰¹åˆ«æ³¨æ„">ç‰¹åˆ«æ³¨æ„</h5>
<p><a href="#anchor_1">å®éªŒä»£ç </a>ä¸­çš„å†™æ³•æ˜¯<strong>é£é™©æé«˜ã€å±å®³æå¤§ã€éå¸¸å¹¼ç¨š</strong>çš„ğŸ˜’ï¼Œå®ƒä¼šæ— å¯é¿å…åœ°é€ æˆ<strong>å†…å­˜è®¿é—®è¶Šç•Œ</strong>çš„æ¼æ´ã€‚</p>
<p>ç¤ºä¾‹</p>
<pre><code class="language-c">test_change_param (test_string, test_int);

...

void test_change_param (char * args, ...)
{
    va_list param_list;         // å®šä¹‰å‚æ•°åˆ—è¡¨å˜é‡

    va_start (param_list, args);    // å°†åˆ—è¡¨å˜é‡ &quot;param_list&quot; æŒ‡å‘å‚æ•°åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´  &quot;args&quot; 

    printf (&quot;the first unsined int parameter = %d&quot;, va_arg (param_list, unsigned int));
    // ä»è¿™é‡Œå¼€å§‹è¶Šç•Œè®¿é—®ã€‚å¯å˜å‚æ•°åˆ—è¡¨é‡Œåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œä½†è¿˜èƒ½ç»§ç»­å‘åè®¿é—®
    printf (&quot;the second unsigned int parameter = %d&quot;, va_arg (param_list, unsigned int));
    printf (&quot;the third unsigned int parameter = %d&quot;, va_arg (param_list, unsigned int));

    va_end(param_list);

    return;
}
</code></pre>
<p>ä»¥ä¸Šç¤ºä¾‹ä»£ç ä¸­ï¼Œç¼–è¯‘ã€æ‰§è¡Œéƒ½ä¸ä¼šæŠ¥é”™ï¼Œä½†äº‹å®ä¸Šå¯¹å†…å­˜è¿›è¡Œäº†è¶Šç•Œè®¿é—®ã€‚å†…å­˜å¾ˆå®¹æ˜“å°±è¢«çœ‹å…‰äº†ï¼ˆè™½ç„¶ä¸ä¼šè¢«æ”¹æ‰ï¼‰</p>
<p>æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<blockquote>
<p><em>æˆ‘ä»¬çš„ç›®æ ‡ï¼Œæ˜¯æƒ³é€ æˆä¸€ä¸ªåˆæœ‰é›†ä¸­åˆæœ‰æ°‘ä¸»ï¼Œåˆæœ‰çºªå¾‹åˆæœ‰è‡ªç”±ï¼Œåˆæœ‰ç»Ÿä¸€æ„å¿—ã€åˆæœ‰ä¸ªäººå¿ƒæƒ…èˆ’ç•…ã€ç”ŸåŠ¨æ´»æ³¼ï¼Œé‚£æ ·ä¸€ç§å±€é¢ã€‚</em> <em>â€”â€”ã€Šä¸€ä¹äº”ä¸ƒå¹´å¤å­£çš„å½¢åŠ¿ã€‹</em></p>
</blockquote>
<pre><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;stdarg.h&gt;

void test_change_param (char *, int, ...);          // å‡½æ•°å£°æ˜å’Œå®šä¹‰æ—¶ï¼Œçº¦å®šä¿—æˆåœ°æ˜¾å¼ä¼ é€’å¯å˜å‚æ•°çš„ä¸ªæ•°

int main()
{
    char * test_string = &quot;test changing params&quot;;
    unsigned int test_int = 98765;

    test_change_param (test_string, 1, test_int);

    return 0;
}

void test_change_param (char * args, int argv, ...)
{
    va_list param_list;

    va_start (param_list, argv);

    if (0 != argv)          // åœ¨è®¿é—®å¯å˜å‚æ•°åˆ—è¡¨æ—¶ï¼Œè¿›è¡Œæ¯ä¸€è·³å‰é¦–å…ˆåˆ¤æ–­æ˜¯å¦å·²åˆ°è¾¾æœ«å°¾
    {
        printf (&quot;the first unsined int parameter = %d&quot;, va_arg (param_list, unsigned int));
        argv--;             // æ¯ä¸€è·³è¿›è¡Œåï¼Œç«‹åˆ»ä½¿æœªè®¿é—®å‚æ•°ä¸ªæ•°è‡ªå‡
    }

    // æ¸…ç†ä¸º valist ä¿ç•™çš„å†…å­˜ï¼Œé¿å…å†…å­˜æ³„éœ²
    va_end(param_list);

    return;
}
</code></pre>
<p>åªèƒ½å¯¹å˜å‚å‡½æ•°çš„ç”¨æ³•åšå‡ºä¸€äº›çº¦æŸï¼Œåœ¨ä¸Šè¿°ç¤ºä¾‹å¯ä»¥ç®€è¦å½’ä¸º 4 ç‚¹</p>
<ul>
<li>å‡½æ•°å£°æ˜å’Œå®šä¹‰æ—¶ï¼Œçº¦å®šä¿—æˆåœ°æ˜¾å¼ä¼ é€’å¯å˜å‚æ•°çš„ä¸ªæ•°ï¼Œä½œä¸ºæœ€åä¸€ä¸ªå›ºå®šå‚æ•°ã€‚</li>
<li>åœ¨ä¸€æ¬¡è°ƒç”¨ä¸­ï¼Œä¼ é€’å¯å˜å‚æ•°æ—¶ï¼Œå°½é‡ï¼Œå°½é‡ï¼Œå°½é‡è¦æ±‚å…¶ç±»å‹ç›¸åŒã€‚
<ul>
<li>è‹¥å¯å˜å‚æ•°åˆ—è¡¨ä¸­å­˜åœ¨å¤šç§ä¸åŒç±»å‹çš„å…ƒç´ ï¼Œåˆ™åœ¨ä½¿ç”¨ <code>va_start()</code> è®¿é—®æ—¶æ¯ä¸€è·³çš„æ­¥è¿›å€¼å¯èƒ½ä¸ä¸º 1ï¼Œå…ˆå‰ä¼ é€’çš„å¯å˜å‚æ•°ä¸ªæ•°å°±ç”¨ä¸ä¸Šäº†ï¼Œè¯¥è¶Šç•Œè¿˜æ˜¯ä¼šè¶Šç•Œã€‚</li>
<li>æ¯”å¦‚å‰ä¸¤ä¸ªæ˜¯ <code>int</code>ï¼Œç¬¬ä¸‰ä¸ªæ˜¯ <code>char</code>ï¼Œç„¶åç¬¬ä¸€æ­¥å°±å»æ‰¾ <code>char</code></li>
<li>æˆ‘è¯´çš„æ˜¯å°½é‡ç›¸åŒï¼Œå› ä¸ºè¦è¿åˆ <code>va_start ()</code>ã€‚è‰ºé«˜äººèƒ†å¤§çš„åŒå­¦ï¼Œæˆ–è€…èƒ†å¤§çš„åŒå­¦ï¼Œå¯ä»¥æŠ›å¼ƒ <code>va_start()</code>ï¼Œæ‰‹åŠ¨æ“çºµæŒ‡é’ˆè®¿é—®ç›®æ ‡å…ƒç´  ï¼Œä¹Ÿå°±ä¸å¤ªéœ€è¦åœ¨æ„è¿™æ¡çº¦æŸäº†ã€‚</li>
</ul>
</li>
<li>åœ¨è®¿é—®å¯å˜å‚æ•°åˆ—è¡¨æ—¶ï¼Œè¿›è¡Œæ¯ä¸€è·³å‰é¦–å…ˆåˆ¤æ–­æ˜¯å¦å·²åˆ°è¾¾æœ«å°¾</li>
<li>æ¯ä¸€è·³è¿›è¡Œåï¼Œç«‹åˆ»ä½¿æœªè®¿é—®å‚æ•°ä¸ªæ•°è‡ªå‡</li>
<li>å¯å˜å‚æ•°åˆ—è¡¨ä½¿ç”¨å®Œæ¯•ï¼Œç«‹åˆ»æ¸…ç†ä¸ºåˆ—è¡¨å˜é‡ä¿ç•™çš„å†…å­˜ï¼Œé¿å…å†…å­˜æ³„éœ²</li>
</ul>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E5%87%BD%E6%95%B0">å¯å˜å‚æ•°å‡½æ•°</a>
<ul>
<li><a href="#%E8%AF%A6%E7%BB%86%E8%AE%B2%E8%A7%A3">è¯¦ç»†è®²è§£</a></li>
<li><a href="#%E6%88%91%E7%9A%84%E5%AE%9E%E9%AA%8C%E4%BB%A3%E7%A0%81">æˆ‘çš„å®éªŒä»£ç </a></li>
<li><a href="#%E8%BF%90%E8%A1%8C%E7%BB%93%E6%9E%9C">è¿è¡Œç»“æœ</a></li>
<li><a href="#%E4%B8%80%E7%82%B9%E8%AF%B4%E6%98%8E">ä¸€ç‚¹è¯´æ˜</a></li>
</ul>
</li>
<li><a href="#%E5%A4%A7%E4%B9%89%E8%A7%89%E8%BF%B7">å¤§ä¹‰è§‰è¿·</a>
<ul>
<li><a href="#%E7%89%B9%E5%88%AB%E6%B3%A8%E6%84%8F">ç‰¹åˆ«æ³¨æ„</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="https://bouse-w.github.io/BouseBlog.github.io/post/c-wen-jian-zhong-shou-dong-qing-li-quan-ju-bian-liang-de-wen-ti/">
              <h3 class="post-title">
                Cæ–‡ä»¶ä¸­æ‰‹åŠ¨æ¸…ç†å…¨å±€å˜é‡çš„é—®é¢˜
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  <p><font size=1>åŸåšå®¢ç½‘ç«™ rerevolution.cnï¼ˆæœåŠ¡å™¨è¿‡æœŸäº†ï¼‰çš„é‡å»º</font></p>
  <a class="rss" href="https://bouse-w.github.io/BouseBlog.github.io//atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
